\section{Implementation Details}

\subsection{Domain Model}

\begin{figure}
	\centering
	\begin{tikzpicture}[scale=0.7, transform shape]
		
		% first column (from left to right)
		\umlclass[width=5cm]{User}{
			\begin{tabular}{@{} l l @{}}
				-- id       		& : string \\ % it is the hash related to the user.
				-- banned   		& : bool 
			\end{tabular}
		}{}
		
		\umlclass[below=3cm of User, width=5cm]{Admin}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int \\
				-- email    & : string
			\end{tabular}
		}{}
		
		\umlclass[below=3cm of Admin, width=5cm]{Report}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int \\
				-- issuer   & : User \\
				-- status   & : ReportStatus \\
				-- review   & : Review
			\end{tabular}
		}{}
		
		\umlenum[below=2.5cm of Report]{ReportStatus}{
			Pending \\ Accepted \\ Rejected
		}
		
		% second column
		\umlclass[right=3cm of User, width=6cm]{Review}{
			\begin{tabular}{@{} l l @{}}
				-- id          & : int       \\
				-- course      & : Course    \\
				-- degree      & : Degree    \\
				-- school      & : School    \\ 
				-- comment     & : string    \\
				-- date        & : LocalDate \\
				-- enjoyment   & : int       \\
				-- difficulty  & : int       \\
				-- up-votes    & : int       \\
				-- professor   & : Professor \\
				-- creator     & : User
			\end{tabular}
		}{
			\begin{tabular}{@{} l l @{}}
				-- check\_enjoyment() \\
				-- check\_difficulty()
			\end{tabular}
		}
		
		\umlclass[below=4cm of Review, width=6cm]{Professor}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int       \\
				-- name     & : string    \\
				-- surname  & : string    
			\end{tabular}
		}{}
		
		% third column
		\umlenum[right=4cm of Review]{DegreeType}{
			Bachelor \\ Master
		}
		
		\umlclass[below=2.5cm of DegreeType]{School}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int \\
				-- name     & : string
			\end{tabular}
		}{}
		
		\umlclass[below=2.5cm of School, width=5cm]{Degree}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int \\
				-- name     & : string \\
				-- school   & : School \\
				-- type     & : DegreeType
			\end{tabular}
		}{}
		
		\umlclass[below=2.5cm of Degree, width=5cm]{Course}{
			\begin{tabular}{@{} l l @{}}
				-- id       & : int \\
				-- name     & : string \\
				-- degree   & : Degree 
			\end{tabular}
		}{}
		
		\umlcompo{Degree}{Course}
		\umlcompo{School}{Degree}
		\umlcompo[geometry=-|-, arm1=-1.2cm, anchor1=west, anchor2=west]{User}{Report}
		\umlcompo[geometry=-|-, anchor1 = 160]{School}{Review}
		\umlcompo[geometry=-|-]{Degree}{Review}
		\umlcompo[geometry=-|-, anchor1 =-160]{Course}{Review}
		\umlcompo[geometry=-|-]{User}{Review}
		\umlcompo{Professor}{Review}
		
		
		
		\umluniassoc[geometry=-|-, arm1=1.2cm, anchor1=east, anchor2=east]{Degree}{DegreeType}
		\umluniassoc{Report}{ReportStatus}
		
	\end{tikzpicture}
\end{figure}

\subsection{Business Logic}

\subsection{Object-Relation Mapper (ORM)}

\subsection{Database}

\begin{figure}
	\centering
	\begin{tikzpicture}

		\umlclass{User}{
			% The @{} removes extra side padding for a tighter fit
			\begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
					    	& banned      & \textit{boolean}
			\end{tabular}
		}{}


		\umlclass[below = 1cm of User]{Report}{
			\begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
					    	& comment     & \textit{varchar} \\
					    	& date        & \textit{date} \\
				\textbf{FK} & user\_id    & \textit{int} \\
				\textbf{FK} & review\_id  & \textit{int}
			\end{tabular}
		}{}

		\umlclass[right = 1cm of User]{Drafted Review}{
			\begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & comment     & \textit{varchar} \\
						    & date        & \textit{date} \\
						    & rating      & \textit{int} \\
						    & difficulty  & \textit{int} \\
						    & school      & \textit{varchar} \\
						    & degree      & \textit{varchar} \\
						    & course      & \textit{varchar} \\
						    & professor   & \textit{varchar} \\
				\textbf{FK} & user\_id    & \textit{int} \\
			\end{tabular}
		}{}

		\umlclass[below = 1cm of Drafted Review]{Published Review}{
			\begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id}   & \textit{int} \\
						    & comment       & \textit{varchar} \\
						    & date          & \textit{date} \\
						    & rating        & \textit{int} \\
						    & difficulty    & \textit{int} \\
				\textbf{FK} & teaching\_id  & \textit{int} \\
				\textbf{FK} & user\_id      & \textit{int} \\
			\end{tabular}
		}{}

		\umlclass[below = 1cm of Published Review]{Teaching}{
			\begin{tabular}{@{} l l l @{}}
				\textbf{PK FK} & \textbf{course\_id}    & \textit{int} \\
				\textbf{PK FK} & \textbf{professor\_id} & \textit{varchar} \\
			\end{tabular}
		}{}

		\umlclass[right = 1cm of Teaching]{Course}{
		    \begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & name        & \textit{varchar} \\
				\textbf{FK} & degree\_id  & \textit{int} \\
		    \end{tabular}
		}{}

		\umlclass[above = 1cm of Course]{Degree}{
		    \begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & name        & \textit{varchar} \\
						    & type        & \textit{varchar} \\
				\textbf{FK} & school\_id  & \textit{int} \\
		    \end{tabular}
		}{}

		\umlclass[above = 1cm of Degree]{School}{
		    \begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & name        & \textit{varchar} \\
		    \end{tabular}
		}{}

		\umlclass[left = 1cm of Teaching]{Professor}{
		    \begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & name        & \textit{varchar} \\
						    & surname     & \textit{varchar} \\
		    \end{tabular}
		}{}

		\umlclass[above = 2cm of School]{Admin}{
		    \begin{tabular}{@{} l l l @{}}
				\textbf{PK} & \textbf{id} & \textit{int} \\
						    & email       & \textit{varchar} \\
		    \end{tabular}
		}{}

		\umluniassoc{Report}{User}
		\umluniassoc{Drafted Review}{User}
		\umluniassoc[geometry=-|-]{Published Review}{User}
		\umluniassoc{Course}{Degree}
		\umluniassoc{Degree}{School}
		\umluniassoc{Teaching}{Course}
		\umluniassoc{Teaching}{Professor}
		\umluniassoc{Published Review}{Teaching}

	\end{tikzpicture}
	\caption{UML diagram of Database schema}
\end{figure}

\subsection{Interface}
